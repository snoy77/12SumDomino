<!DOCTYPE html>
<html>
<head>
	<title>alterDomino</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	
	<script type="text/javascript">
		function hh(string){
			return "|"+string;
		}
		let countSelectedDomino = 0;
		let selectedDominosId = new Array(null,null);
		let Dominos = [Domino(0,1,6), Domino(1,0,5), Domino(2,3,4), Domino(3,1,6), Domino(4,0,5), Domino(5,3,4), Domino(6,1,6), Domino(7,0,5), Domino(8,3,4), Domino(9,1,6)];

		function Domino(name, valPanelOne, valPanelTwo){
			return {
		 		Name: name,
		 		PanelOneValue: valPanelOne,
		 		PanelTwoValue: valPanelTwo,
		 		Value: valPanelOne + valPanelTwo,
		 		IsDominoUp: false,
		 		UpDomino: function(){
		 			let PanelOneName = "domino" + this.Name + "_panel_1";
		 			let PanelTwoName = "domino" + this.Name + "_panel_2";

		 			let PanelOneSrc = "dominoPanel_" + this.PanelOneValue + ".png";
		 			let PanelTwoSrc = "dominoPanel_" + this.PanelTwoValue + ".png";

		 			console.log(">Обработка открытия доминошки: ");
		 			console.log(hh(PanelOneSrc));
		 			console.log(hh(PanelTwoSrc));
		 			console.log(hh("domino" + this.Name + "_panel_1"));
		 			console.log(hh(document.getElementById("domino" + this.Name + "_panel_1")));
		 			document.getElementById(PanelOneName).src = PanelOneSrc;
		 			document.getElementById(PanelTwoName).src = PanelTwoSrc;

		 			this.IsDominoUp = true;
		 		}
		 	}
		}

		function dominoSelect(id){
			console.log(">Обработка выбора домино: "+id);

			if(Dominos[id].IsDominoUp){
				//Выбираем домино
				document.getElementById(id).style.backgroundColor = "#657488";
				selectedDominosId[countSelectedDomino] = id;
				console.log("|Элемент: "+selectedDominosId[countSelectedDomino]);
	
				countSelectedDomino += 1;

				if(countSelectedDomino == 2){
					//проверка на сумму доминох
					if(Dominos[selectedDominosId[0]].Value + Dominos[selectedDominosId[1]].Value == 12){
						document.getElementById(selectedDominosId[0]).style.display = 'none';
						document.getElementById(selectedDominosId[1]).style.display = 'none';
						Dominos[selectedDominosId[0]] = null;
						Dominos[selectedDominosId[1]] = null;
						//Если сумма равна 12: спрятать элементы, и, желательно, удалить из списка доминох
					}
					else{
						//Если сумма НЕ равна 12: перекрашиваем доминохи обратно
						document.getElementById(selectedDominosId[0]).style.backgroundColor = "white";
						document.getElementById(selectedDominosId[1]).style.backgroundColor = "white";
					}
					//Очищаем список выбраных доминох
					countSelectedDomino = 0;
					selectedDominosId = [null, null];
				}
			}
			else{
				//Если спереди доминох больше нет, то открыть можно доминоху +2 от последней откртой доминохи
				//Если между доминохой А и Б имеется большое расстояние, то открыть доминоху С можно любую межжду ними, которая не приближается к любой из концов на расстояние 1 от домино
				Dominos[id].UpDomino();
			}
			console.log("|элементов в стеке: "+countSelectedDomino);
		}
		function setStartData(dominoId){
			function DominoExsist(){
				
			}
			let panelsWith = new Array(6,6,6,6,6,6,6);
			Dominos ;	
		}
		
	</script>
	<script type="text/javascript">
		function mouseEnter(id){		
			document.getElementById(id).style.backgroundColor = "red";
		}
		function mouseOut(id){
			if(selectedDominosId[0] == id || selectedDominosId[1] == id){
				document.getElementById(id).style.backgroundColor = "#657488";
			}
			else if(Dominos[id].IsDominoUp){
				document.getElementById(id).style.backgroundColor = "white";
			}
			else{
				document.getElementById(id).style.backgroundColor = "#424242"
			}
		}
	</script>
</head>
<body>

	<div id="0" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino0_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino0_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="1" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino1_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino1_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="2" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino2_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino2_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="3" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino3_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino3_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="4" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino4_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino4_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="5" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino5_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino5_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="6" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino6_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino6_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="7" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino7_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino7_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="8" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino8_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino8_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<div id="9" class="domino" onclick="dominoSelect(this.id)" onmouseenter="mouseEnter(this.id)" onmouseleave="mouseOut(this.id)">
		<img id="domino9_panel_1" class="dominoPanelUp" src="dominoPanel_0.png">
		<img id="domino9_panel_2" class="dominoPanelDown" src="dominoPanel_0.png">
	</div>
	<script type="text/javascript">
		function hh(string){
			return "|" + string;
		}
		console.log("Стартовые данные:")
		console.log(hh(countSelectedDomino));

		//Проверка доминошки
		let aa = Dominos[1];
		console.log(">Проверка открытия доминошки: " + aa.Name);
		console.log(hh("Панель первая равна: " + aa.PanelOneValue));
		console.log(hh("Панель вторая равна: " + aa.PanelTwoValue));
		console.log(hh("Сумма: " + aa.Value));
		console.log(hh("Доминоха открыта: " + aa.IsDominoUp));
		//aa.UpDomino();
		//console.log(hh("Доминоха открыта: " + aa.IsDominoUp));
		//============================
	</script>
</body>
</html>